# JoonaPay AML Risk Manager Service Environment Configuration

# Server Configuration
NODE_ENV=development
PORT=3004

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=password
DB_NAME=aml_risk_manager
DB_SSL=false

# Redis Configuration (for caching and session management)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key
JWT_REFRESH_EXPIRATION=7d

# Kafka Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=aml-risk-manager-service
KAFKA_CONSUMER_GROUP_ID=aml-risk-manager-group

# External Service URLs
IDENTITY_SERVICE_URL=http://localhost:3001
LEDGER_SERVICE_URL=http://localhost:3002
COMPLIANCE_SERVICE_URL=http://localhost:3003

# ML Model Configuration
ML_MODEL_STORAGE_PATH=./models
ML_MODEL_CACHE_TTL=3600
ENABLE_ML_DRIFT_DETECTION=true
ML_RETRAINING_SCHEDULE=weekly

# AML Configuration
DEFAULT_RISK_THRESHOLD=75.0
DEFAULT_ALERT_THRESHOLD=80.0
SAR_FILING_DEADLINE_DAYS=30
ENABLE_AUTO_SAR_GENERATION=false

# Monitoring & Observability
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# Rate Limiting
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@joonapay.com

# Regulatory Configuration
REGULATORY_AGENCY=FINCEN
FILING_INSTITUTION_NAME=JoonaPay Inc
FILING_INSTITUTION_EIN=XX-XXXXXXX
BSA_E_FILING_ENABLED=false

# Feature Flags
ENABLE_REAL_TIME_MONITORING=true
ENABLE_ML_PREDICTIONS=true
ENABLE_ALERT_AUTO_ASSIGNMENT=true
ENABLE_SAR_AUTO_FILING=false

# Security Configuration
ENABLE_HELMET=true
ENABLE_CORS=true
TRUSTED_PROXIES=
SESSION_SECRET=your-session-secret-key

# Performance Configuration
DB_CONNECTION_POOL_SIZE=20
CACHE_TTL=300
BATCH_PROCESSING_SIZE=1000
MAX_CONCURRENT_ASSESSMENTS=10

# Development Tools
ENABLE_SWAGGER=true
SWAGGER_PATH=/api/docs
ENABLE_DEBUG_LOGGING=true